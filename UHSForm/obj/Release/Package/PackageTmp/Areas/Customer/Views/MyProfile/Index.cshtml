
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Customer/Views/Shared/_LayoutPage.cshtml";
}
<link href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/css/intlTelInput.css" rel="stylesheet" />

<style>
    .iti__country-list {
        width: 240px;
    }
</style>
<link href="~/Styles/bootstrap-fileinput.css" rel="stylesheet" />
<style>
    .shaaz {
        display: none;
    }

    .ngshaaz {
        display: block;
    }
</style>
<!--begin::Content-->
<div class="content d-flex flex-column flex-column-fluid" id="kt_content" ng-controller="MyProfileController">
    <!--begin::Post-->
    <div class="post d-flex flex-column-fluid" id="kt_post">
        <!--begin::Container-->
        <div id="kt_content_container" class="container-xxl">
            <!--begin::Navbar-->
            <div class="card mb-5 mb-xl-10">
                <div class="card-body pt-9 pb-0">
                    <!--begin::Details-->
                    <div class="d-flex flex-wrap flex-sm-nowrap">
                        <!--begin: Pic-->
                        <div class="me-7 mb-4">
                            <div style="cursor:pointer;" class="symbol symbol-100px symbol-lg-160px symbol-fixed position-relative" ng-click="ProfileModel('show')">
                                <img src="{{profilePPic}}" alt="image" id="myPprofile" style="display:none;" />
                                <div class="position-absolute translate-middle bottom-0 start-100 mb-6 bg-success rounded-circle border border-4 border-body h-20px w-20px"></div>
                            </div>
                        </div>
                        <!--end::Pic-->
                        <!--begin::Info-->
                        <div class="flex-grow-1">
                            <!--begin::Title-->
                            <div class="d-flex justify-content-between align-items-start flex-wrap mb-2">
                                <!--begin::User-->
                                <div class="d-flex flex-column">
                                    <!--begin::Name-->
                                    <div class="d-flex align-items-center mb-2">
                                        <a href="#" class="text-gray-900 text-hover-primary fs-2 fw-bold me-1" ng-bind="userDetails.Username"></a>
                                        <a href="#">
                                            <i class="ki-duotone ki-verify fs-1 text-primary">
                                                <span class="path1"></span>
                                                <span class="path2"></span>
                                            </i>
                                        </a>
                                    </div>
                                    <!--end::Name-->
                                    <!--begin::Info-->
                                    <div class="d-flex flex-wrap fw-semibold fs-6 mb-4 pe-2">
                                        <a href="#" class="d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2">
                                            <i class="ki-duotone ki-profile-circle fs-4 me-1">
                                                <span class="path1"></span>
                                                <span class="path2"></span>
                                                <span class="path3"></span>
                                            </i>{{userDetails.Name}}
                                        </a>

                                        <a href="#" class="d-flex align-items-center text-gray-500 text-hover-primary mb-2">
                                            <i class="ki-duotone ki-sms fs-4">
                                                <span class="path1"></span>
                                                <span class="path2"></span>
                                            </i>{{userDetails.Email}}
                                        </a>
                                    </div>
                                    <!--end::Info-->
                                </div>
                                <!--end::User-->

                            </div>
                            <!--end::Title-->

                        </div>
                        <!--end::Info-->
                    </div>
                    <!--end::Details-->
                    <!--begin::Navs-->
                    <ul class="nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bold">
                        <!--begin::Nav item-->
                        <li class="nav-item mt-2">
                            <a class="nav-link text-active-primary ms-0 me-10 py-5 active" data-bs-toggle="pill" href="#overview">Overview</a>
                        </li>
                        <!--end::Nav item-->
                        <!--begin::Nav item-->
                        <li class="nav-item mt-2">
                            <a class="nav-link text-active-primary ms-0 me-10 py-5" data-bs-toggle="pill" href="#changepassword">Change Password</a>
                        </li>
                        <!--end::Nav item-->
                        <!--begin::Nav item-->
                        <li class="nav-item mt-2">
                            <a class="nav-link text-active-primary ms-0 me-10 py-5" ng-click="GetAddressDetails()" data-bs-toggle="pill" href="#address">Address</a>
                        </li>
                        <!--end::Nav item-->
                        <!--begin::Nav item-->
                        <li class="nav-item mt-2">
                            <a class="nav-link text-active-primary ms-0 me-10 py-5" ng-click="GetCarDetails()" data-bs-toggle="pill" href="#cardetails">Car Details</a>
                        </li>
                        <!--end::Nav item-->
                    </ul>
                    <!--begin::Navs-->
                </div>
            </div>
            <!--end::Navbar-->
            <div class="tab-content">
                <div class="tab-pane fade show active" id="overview">
                    <!--begin::details View-->
                    <div class="card mb-5 mb-xl-10">
                        <!--begin::Card header-->
                        <div class="card-header cursor-pointer">
                            <!--begin::Card title-->
                            <div class="card-title m-0">
                                <h3 class="fw-bold m-0">Profile Details</h3>
                            </div>
                            <!--end::Card title-->
                            <!--begin::Action-->
                            <a href="#" class="btn btn-sm btn-primary align-self-center" data-bs-toggle="modal" ng-click="UpdateProfModal(userDetails)" data-bs-target="#ProfileDetails">Edit Profile</a>
                            <!--end::Action-->
                        </div>
                        <!--begin::Card header-->
                        <!--begin::Card body-->
                        <div class="card-body p-9">
                            <!--begin::Row-->
                            <div class="row mb-7">
                                <!--begin::Label-->
                                <label class="col-lg-4 fw-semibold text-muted">Full Name</label>
                                <!--end::Label-->
                                <!--begin::Col-->
                                <div class="col-lg-8">
                                    <span class="fw-bold fs-6 text-gray-800" ng-bind="userDetails.Name"></span>
                                </div>
                                <!--end::Col-->
                            </div>
                            <!--end::Row-->
                            <!--begin::Input group-->
                            <div class="row mb-7">
                                <!--begin::Label-->
                                <label class="col-lg-4 fw-semibold text-muted">Email</label>
                                <!--end::Label-->
                                <!--begin::Col-->
                                <div class="col-lg-8 fv-row">
                                    <span class="fw-semibold text-gray-800 fs-6" ng-bind="userDetails.Email"></span>
                                </div>
                                <!--end::Col-->
                            </div>
                            <!--end::Input group-->
                            <!--begin::Input group-->
                            <div class="row mb-7">
                                <!--begin::Label-->
                                <label class="col-lg-4 fw-semibold text-muted">
                                    Mobile Phone

                                </label>
                                <!--end::Label-->
                                <!--begin::Col-->
                                <div class="col-lg-8 d-flex align-items-center">
                                    <span class="fw-bold fs-6 text-gray-800 me-2" ng-bind="userDetails.MobileNo"></span>

                                </div>
                                <!--end::Col-->
                            </div>
                            <!--end::Input group-->
                            <!--begin::Input group-->
                            <div class="row mb-7">
                                <!--begin::Label-->
                                <label class="col-lg-4 fw-semibold text-muted">
                                    Whatsapp Number

                                </label>
                                <!--end::Label-->
                                <!--begin::Col-->
                                <div class="col-lg-8 d-flex align-items-center">
                                    <span class="fw-bold fs-6 text-gray-800 me-2" ng-bind="userDetails.WhatsAppNo"></span>

                                </div>
                                <!--end::Col-->
                            </div>
                            <!--end::Input group-->

                        </div>
                        <!--end::Card body-->
                    </div>
                    <!--end::details View-->
                </div>

                <div class="tab-pane fade" id="changepassword">
                    <div class="card">
                        <div class="card-body">

                            <form class="form-horizontal" name="myChangePassword" novalidate>
                                <div class="row mb-3">
                                    <div class="col-md-5">

                                        <label class="form-label Is-required">Old Password </label>
                                        <input type="password" class="form-control" name="OldPassword" id="oldPassword" required ng-model="OldPassword">
                                        <span ng-if="myChangePassword.$submitted && myChangePassword.OldPassword.$invalid" ng-hide="validation" style="color:red" ng-bind="msgVOldPassword"></span>

                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-5">
                                        <label for="example-email" class="form-label Is-required">New Password</label>
                                        <input type="password" class="form-control" name="NewPassword" id="newPassword" required ng-model="NewPassword" ng-pattern="Pa">
                                        <span ng-if="myChangePassword.$submitted && myChangePassword.NewPassword.$error.required" ng-hide="validation" style="color:red" ng-bind="msgVNewPassword"></span>

                                        <span ng-if="myChangePassword.$submitted && myChangePassword.NewPassword.$error.pattern" style="color:red" ng-bind="msgVNewPasswordError"></span>
                                        <span style="color:red" ng-bind="msgVNewPasswordUError" ng-hide="DisplayNewPasswordUError"></span>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-5">
                                        <label for="example-password" class="form-label Is-required">Confirm Password</label>
                                        <input type="password" class="form-control" id="cpassword" name="ConfirmPassword" required ng-model="ConfirmPassword" ng-pattern="NewPassword">
                                        @*<span toggle="#cpassword" class="fa fa-fw fa-eye field-icon toggle-password"></span>*@
                                        <span ng-if="myChangePassword.$submitted && myChangePassword.ConfirmPassword.$error.required" ng-hide="validation" style="color:red" ng-bind="msgVConfirmPassword"></span>
                                        <span ng-if="myChangePassword.$submitted && myChangePassword.ConfirmPassword.$error.pattern" style="color:red" ng-bind="msgVConfirmPasswordError"></span>
                                    </div>
                                </div>
                                <button type="submit" ng-click="UpdatePassword(myChangePassword.$valid)" class="btn btn-primary">
                                    <span class="indicator-label" id="btnCsave">Change Password</span>
                                    <span class="indicator-progress" id="btnCloader">
                                        Please wait...
                                        <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                    </span>
                                </button>

                            </form>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="address">
                    <!--begin::details View-->
                    <div class="card mb-5 mb-xl-10">
                        <!--begin::Card header-->
                        <div class="card-header cursor-pointer">
                            <!--begin::Card title-->
                            <div class="card-title m-0">
                                <h3 class="fw-bold m-0">Address Details</h3>
                            </div>
                            <!--end::Card title-->

                        </div>
                        <!--begin::Card header-->
                        <!--begin::Card body-->
                        <div class="card-body p-9">
                            <div class="table-responsive" id="tbl_proplist" style="display:none;">
                                <!--begin::Table-->
                                <table ng-if="AdditionalDetails.length == 1" class="table align-middle table-row-dashed fs-6 gy-5" id="kt_customers_table" datatable="ng" dt-options="vm.dtOptions">
                                    <thead>
                                        <tr class="text-start  fw-bold fs-7 text-uppercase gs-0">
                                            <th>S.No</th>
                                            <th class="min-w-125px">Area</th>
                                            <th class="min-w-100px">Property Name</th>
                                            <th>Residential Type</th>
                                            <th>Apartment Number</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody class="fw-semibold text-gray-600">
                                        <tr ng-repeat="prop in AdditionalDetails">
                                            <td ng-bind="$index+1"></td>
                                            <td ng-bind="prop.PropertyArea"></td>
                                            <td ng-bind="prop.PropertyName || 0"></td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.PropertyResidencyType"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.AppartmentNumber || 'N/A'"></a>
                                            </td>

                                            <td>
                                                <a class="btn btn-light btn-active-light-primary btn-flex btn-center btn-sm" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    Action <i class="ki-duotone ki-down fs-5 ms-1"></i>
                                                </a>
                                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">

                                                    <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#kt_modal_update_package" ng-click="EditPropDetails(prop)">Update</a>

                                                </div>
                                            </td>

                                        </tr>


                                    </tbody>
                                </table>
                                <!--end::Table-->
                                <!--begin::Table-->
                                <table ng-if="AdditionalDetails.length > 1" class="table align-middle table-row-dashed fs-6 gy-5" id="kt_customers_table" datatable="ng" dt-options="vm.dtOptions">
                                    <thead>
                                        <tr class="text-start  fw-bold fs-7 text-uppercase gs-0">
                                            <th>S.No</th>
                                            <th class="min-w-125px">Area</th>
                                            <th class="min-w-100px">Property Name</th>
                                            <th>Residential Type</th>
                                            <th>Apartment Number</th>
                                            @*<th>Tower Name/Number</th>*@
                                            <th>Building Number</th>
                                            <th>Street Number</th>
                                            <th>Zone Number</th>
                                            <th>Location</th>
                                            <th>Location Link</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody class="fw-semibold text-gray-600">
                                        <tr ng-repeat="prop in AdditionalDetails">
                                            <td ng-bind="$index+1"></td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.PropertyArea"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.PropertyName"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.PropertyResidencyType"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.AppartmentNumber || 'N/A'"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.BuildingName || 'N/A'"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.StreetNumber || 'N/A'"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.ZoneNumber || 'N/A'"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.Loacation || 'N/A'"></a>
                                            </td>
                                            <td>
                                                <a href="#" class="text-gray-800 text-hover-primary mb-1" ng-bind="prop.LocationLink || 'N/A'"></a>
                                            </td>
                                            <td>
                                                <a class="btn btn-light btn-active-light-primary btn-flex btn-center btn-sm" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    Action <i class="ki-duotone ki-down fs-5 ms-1"></i>
                                                </a>
                                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">

                                                    <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#kt_modal_update_package" ng-click="EditPropDetails(prop)">Update</a>

                                                </div>
                                            </td>

                                        </tr>


                                    </tbody>
                                </table>
                                <!--end::Table-->
                            </div>

                            <div id="tbl_dummyprop">
                                <table class="table">
                                    <thead>
                                        <tr class="text-start  fw-bold fs-7 text-uppercase gs-0">
                                            <th>S.No</th>
                                            <th class="min-w-125px">Area</th>
                                            <th class="min-w-100px">Property Name</th>
                                            <th>Residential Type</th>
                                            <th>Apartment Number</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="8" style="color:blue;" id="spanPLoader"><span><b>Loading...</b></span></td>
                                            <td colspan="8" style="color:red;display:none;" id="spanEmptyPRecords"><span>No records found!</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                        <!--end::Card body-->
                    </div>
                    <!--end::details View-->
                </div>
                <div class="tab-pane fade" id="cardetails">
                    <!--begin::details View-->
                    <div class="card mb-5 mb-xl-10">
                        <!--begin::Card header-->
                        <div class="card-header cursor-pointer">
                            <!--begin::Card title-->
                            <div class="card-title m-0">
                                <h3 class="fw-bold m-0">Car Details</h3>
                            </div>
                            <!--end::Card title-->
                            <!--begin::Action-->
                            <a href="#" class="btn btn-sm btn-primary align-self-center" ng-click="AddCarModal()" data-bs-toggle="modal" data-bs-target="#kt_modal_add_cardetails">Add Car Details</a>
                            <!--end::Action-->
                        </div>
                        <!--begin::Card header-->
                        <!--begin::Card body-->
                        <div class="card-body p-9">
                            <div class="table-responsive" id="tbl_carlist" style="display:none;">
                                <!--begin::Table-->
                                <table class="table align-middle table-row-dashed fs-6 gy-5" id="kt_customers_table" datatable="ng" dt-options="vm.dtOptions">
                                    <thead>
                                        <tr class="text-start  fw-bold fs-7 text-uppercase gs-0">
                                            <th>S.No</th>
                                            <th class="min-w-125px">Type</th>
                                            <th class="min-w-100px">Name</th>
                                            <th>Vehicle No</th>
                                            <th>Brand</th>
                                            <th>Color </th>
                                            <th>Parking Level</th>
                                            <th>Parking Number</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody class="fw-semibold text-gray-600">
                                        <tr ng-repeat="prop in CarDetails">
                                            <td ng-bind="$index+1"></td>
                                            <td ng-bind="prop.carType"></td>
                                            <td ng-bind="prop.CarTypeName"></td>
                                            <td ng-bind="prop.VehicleNo"></td>
                                            <td ng-bind="prop.VehilcleBrand"></td>
                                            <td ng-bind="prop.VehilcleColor"></td>
                                            <td ng-bind="prop.ParkingLevel"></td>
                                            <td ng-bind="prop.ParkingNo"></td>

                                            <td>
                                                <a class="btn btn-light btn-active-light-primary btn-flex btn-center btn-sm" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    Action <i class="ki-duotone ki-down fs-5 ms-1"></i>
                                                </a>
                                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">

                                                    <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#kt_modal_update_cardetails" ng-click="EditCarDetails(prop)">Update</a>

                                                </div>
                                            </td>

                                        </tr>


                                    </tbody>
                                </table>
                                <!--end::Table-->

                            </div>

                            <div id="tbl_cardummyprop">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>S.No</th>
                                            <th class="min-w-125px">Type</th>
                                            <th class="min-w-100px">Name</th>
                                            <th>Vehicle No</th>
                                            <th>Brand</th>
                                            <th>Color </th>
                                            <th>Parking Level</th>
                                            <th>Parking Number</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="8" style="color:blue;" id="spanCLoader"><span><b>Loading...</b></span></td>
                                            <td colspan="8" style="color:red;display:none;" id="spanEmptyCRecords"><span>No records found!</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                        <!--end::Card body-->
                    </div>
                    <!--end::details View-->
                </div>
            </div>
        </div>
        <!--end::Container-->
    </div>
    <!--end::Post-->

    <div class="modal fade" id="ProfileDetails" tabindex="-1" aria-hidden="true">
        <!--begin::Modal dialog-->
        <div class="modal-dialog modal-dialog-centered mw-650px">
            <!--begin::Modal content-->
            <div class="modal-content">
                <!--begin::Form-->
                <form class="form" name="myEditUserForm" novalidate>
                    <!--begin::Modal header-->
                    <div class="modal-header" id="kt_modal_add_customer_header">
                        <!--begin::Modal title-->
                        <h2 class="fw-bold">Update Profile Details</h2>
                        <!--end::Modal title-->
                        <!--begin::Close-->
                        <div data-bs-dismiss="modal" class="btn btn-icon btn-sm btn-active-icon-primary">
                            <i class="ki-outline ki-cross fs-1"></i>
                        </div>
                        <!--end::Close-->
                    </div>
                    <!--end::Modal header-->
                    <!--begin::Modal body-->
                    <div class="modal-body py-10 px-lg-17">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="last" class="form-label mt-3 required"><b>Full Name :</b></label>
                                <input type="text" class="form-control input-circle" id="txtEditName" name="FullName" maxlength="70" ng-model="EName" required>
                                <span ng-if="myEditUserForm.$submitted && myEditUserForm.FullName.$invalid" style="color:red" ng-bind="msgVName"></span>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label mt-3 required"><b>Email :</b></label>
                                <input type="email" class="form-control input-circle" id="txtEditEmail" name="Email" maxlength="90" required ng-model="EEmail" disabled />
                                <span ng-if="myEditUserForm.$submitted && myEditUserForm.Email.$invalid" style="color:red" ng-bind="msgVEmail"></span>

                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label mt-3 required"><b>Mobile No :</b></label>
                                <!--end::Label-->
                                <input type="text" id="txtMobileNo" ng-minlength="8" ng-maxlength="8" minlength="8" maxlength="8" name="MobileNo" onkeyup="if (/\D/g.test(this.value)) this.value = this.value.replace(/\D/g,'')" size="80" class="form-control" required ng-model="EMobileNo" placeholder="Eg: 90000000">
                                <!-- Error Message for Minlength -->
                                <span ng-if="myEditUserForm.$submitted && myEditUserForm.MobileNo.$error.minlength"
                                      style="color:red" ng-bind="msgMinLength || 'Mobile no must be at least 8 digits long.'">

                                </span><br />
                                <span ng-if="myEditUserForm.$submitted && myEditUserForm.MobileNo.$invalid" style="color:red" ng-bind="msgVMobileNo"></span>

                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label mt-3"><b>Whatsapp No :</b></label>
                                <input type="text" class="form-control input-circle" id="txtEditwhatsappMobileNo" name="WhatsappNo" maxlength="12" ng-model="EWhatsAppNo" />

                            </div>

                        </div>
                    </div>
                    <!--end::Modal body-->
                    <!--begin::Modal footer-->
                    <div class="modal-footer flex-center">
                        <!--begin::Button-->
                        <button type="reset" data-bs-dismiss="modal" class="btn btn-light me-3">Discard</button>
                        <!--end::Button-->
                        <!--begin::Button-->
                        <button type="submit" id="kt_modal_add_customer_submit" ng-click="UpdateUser(myEditUserForm.$valid)" class="btn btn-primary">
                            <span class="indicator-label" id="btnsave">Submit</span>
                            <span class="indicator-progress" id="btnloader">
                                Please wait...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>
                        <!--end::Button-->
                    </div>
                    <!--end::Modal footer-->
                </form>
                <!--end::Form-->
            </div>
        </div>
    </div>

    <div class="modal fade" id="kt_modal_update_package" tabindex="-1" aria-hidden="true">
        <!--begin::Modal dialog-->
        <div class="modal-dialog modal-dialog-centered mw-850px">
            <!--begin::Modal content-->
            <div class="modal-content">
                <!--begin::Form-->
                <form class="form" name="UpdatePropDetailsForm" novalidate>
                    <!--begin::Modal header-->
                    <div class="modal-header" id="kt_modal_add_customer_header">
                        <!--begin::Modal title-->
                        <h2 class="fw-bold" ng-bind="'Update ' + EditPropertyName"></h2>
                        <!--end::Modal title-->
                        <!--begin::Close-->
                        <div data-bs-dismiss="modal" class="btn btn-icon btn-sm btn-active-icon-primary">
                            <i class="ki-outline ki-cross fs-1"></i>
                        </div>
                        <!--end::Close-->
                    </div>
                    <!--end::Modal header-->
                    <!--begin::Modal body-->
                    <div class="modal-body py-10 px-lg-17">
                        <!--begin::Scroll-->
                        <!--begin::Input group-->
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Area</label>
                                <!--end::Label-->
                                <select name="Area" aria-label="Select a Area" required ng-model="propaID" ng-options="area.ID as area.Value for area in FilterAreaDropdown" ng-change="GetPropertybyArea()" data-control="select2" data-placeholder="Select a Area..." data-dropdown-parent="#kt_modal_update_package" class="form-select">
                                    <option value="">Select a  Area...</option>

                                </select>
                                <span ng-if="UpdatePropDetailsForm.$submitted && UpdatePropDetailsForm.Area.$invalid" style="color:red">field is required</span>

                            </div>
                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Property</label>
                                <select name="Property" aria-label="Select a Property" required ng-model="vID" ng-options="prop.ID as prop.Value for prop in FilterPropertyTypeDropdown" data-control="select2" data-placeholder="Select a Property..." data-dropdown-parent="#kt_modal_update_package" class="form-select">
                                    <option value="">Select a  Property...</option>

                                </select>
                                <span ng-if="UpdatePropDetailsForm.$submitted && UpdatePropDetailsForm.Property.$invalid" style="color:red">field is required</span>

                            </div>
                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Residential</label>
                                <select name="ResidentialA" aria-label="Select a Residential" required ng-options="res.ID as res.Value for res in FilterResidentTypeDropdown" ng-model="proprestID" data-control="select2" data-placeholder="Select a Residential Type..." data-dropdown-parent="#kt_modal_update_package" class="form-select">
                                    <option value="">Select a  Type...</option>

                                </select>
                                <span ng-if="UpdatePropDetailsForm.$submitted && UpdatePropDetailsForm.ResidentialA.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Apartment No</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="AppartmentNumber" placeholder="" name="Apartment" required />
                                <!--end::Input-->
                                <span ng-if="UpdatePropDetailsForm.$submitted && UpdatePropDetailsForm.Apartment.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4" ng-show="propType == 2">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Building Name</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="BuildingName" placeholder="" name="BuildingNo" />
                                <!--end::Input-->
                                <span ng-bind="msgVSBuilding" style="color:red"></span>

                            </div>

                            <div class="col-md-6 mb-4" ng-show="propType == 2">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Street Number</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="StreetNumber" placeholder="" name="StreetNo" />
                                <!--end::Input-->
                                <span ng-bind="msgVStreetNumber" style="color:red"></span>


                            </div>
                            <div class="col-md-6 mb-4" ng-show="propType == 2">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Zone Number</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="ZoneNumber" placeholder="" name="ZoneNumber" />
                                <!--end::Input-->
                                <span ng-bind="msgVZoneNo" style="color:red"></span>

                            </div>
                            <div class="col-md-6 mb-4" ng-show="propType == 2">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Location</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="Loacation" placeholder="" name="Loacation" />
                                <!--end::Input-->
                                <span ng-bind="msgVLocation" style="color:red"></span>

                            </div>
                        </div>
                        <!--end::Input group-->

                    </div>
                    <!--end::Modal body-->
                    <!--begin::Modal footer-->
                    <div class="modal-footer flex-center">
                        <!--begin::Button-->
                        <button type="reset" data-bs-dismiss="modal" class="btn btn-light me-3">Discard</button>
                        <!--end::Button-->
                        <!--begin::Button-->
                        <button type="submit" id="kt_modal_add_customer_submit" ng-click="UpdatePropDetails(UpdatePropDetailsForm.$valid)" class="btn btn-primary">
                            <span class="indicator-label" id="btnUsave">Submit</span>
                            <span class="indicator-progress" id="btnUloader">
                                Please wait...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>
                        <!--end::Button-->
                    </div>
                    <!--end::Modal footer-->
                </form>
                <!--end::Form-->
            </div>
        </div>
    </div>
    <div class="modal fade" id="kt_modal_add_cardetails" tabindex="-1" aria-hidden="true">
        <!--begin::Modal dialog-->
        <div class="modal-dialog modal-dialog-centered mw-850px">
            <!--begin::Modal content-->
            <div class="modal-content">
                <!--begin::Form-->
                <form class="form" name="AddCarDetailsForm" novalidate>
                    <!--begin::Modal header-->
                    <div class="modal-header" id="kt_modal_add_customer_header">
                        <!--begin::Modal title-->
                        <h2 class="fw-bold">Add Car Details</h2>
                        <!--end::Modal title-->
                        <!--begin::Close-->
                        <div data-bs-dismiss="modal" ng-click="InitcarDetails()" class="btn btn-icon btn-sm btn-active-icon-primary">
                            <i class="ki-outline ki-cross fs-1"></i>
                        </div>
                        <!--end::Close-->
                    </div>
                    <!--end::Modal header-->
                    <!--begin::Modal body-->
                    <div class="modal-body py-10 px-lg-17">
                        <!--begin::Scroll-->
                        <!--begin::Input group-->
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Area</label>
                                <!--end::Label-->
                                <select name="Area" id="AreaID" aria-label="Select a Area" required ng-model="propaID" ng-options="area.ID as area.Value for area in FilterAreaDropdown" ng-change="GetPropertybyArea()" data-control="select2" data-placeholder="Select a Area..." data-dropdown-parent="#kt_modal_add_cardetails" class="form-select">
                                    <option value="">Select a  Area...</option>

                                </select>
                                <span ng-if="AddCarDetailsForm.$submitted && AddCarDetailsForm.Area.$invalid" style="color:red">field is required</span>

                            </div>
                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Property</label>
                                <select name="Property" id="propertyID" aria-label="Select a Property" required ng-model="vID" ng-options="prop.ID as prop.Value for prop in FilterPropertyTypeDropdown" data-control="select2" data-placeholder="Select a Property..." data-dropdown-parent="#kt_modal_add_cardetails" class="form-select">
                                    <option value="">Select a  Property...</option>

                                </select>
                                <span ng-if="AddCarDetailsForm.$submitted && AddCarDetailsForm.Property.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4">

                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Car Type</label>
                                <!--end::Label-->
                                <select name="CarCType" id="CarTypeID" required ng-model="ddlCarType" aria-label="Select a Car Type" data-control="select2" data-placeholder="Select a Car Type..." data-dropdown-parent="#kt_modal_add_cardetails" class="form-select">
                                    <option value="">Select a  Car Type...</option>
                                    <option value="1">Sedan</option>
                                    <option value="2">Coupe</option>
                                    <option value="3">Sport</option>
                                    <option value="4">SUV</option>
                                    <option value="5">Pick UP</option>
                                    <option value="6">Hatchbacks</option>
                                </select>
                                <span ng-if="AddCarDetailsForm.$submitted && AddCarDetailsForm.CarCType.$invalid" style="color:red">field is required</span>

                            </div>


                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Parking Level</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtParkingLevel" placeholder="" name="Parking" required />
                                <!--end::Input-->
                                <span ng-if="AddCarDetailsForm.$submitted && AddCarDetailsForm.Parking.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Parking No</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtParkingNumber" placeholder="" name="ParkingNo" required />
                                <!--end::Input-->
                                <span ng-if="AddCarDetailsForm.$submitted && AddCarDetailsForm.ParkingNo.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="fs-6 fw-semibold mb-2">Vehicle Brand</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtVehicleBrand" placeholder="" name="VehicleBrand" />
                                <!--end::Input-->

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="fs-6 fw-semibold mb-2">Vehicle Color</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtVehicleColor" placeholder="" name="VehicleColor" />
                                <!--end::Input-->

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="fs-6 fw-semibold mb-2 required">Vehicle Number</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtVehicleNumber" placeholder="" name="VehicleNo" required />
                                <!--end::Input-->
                                <span ng-if="AddCarDetailsForm.$submitted && AddCarDetailsForm.VehicleNo.$invalid" style="color:red">field is required</span>

                            </div>

                        </div>
                        <!--end::Input group-->

                    </div>
                    <!--end::Modal body-->
                    <!--begin::Modal footer-->
                    <div class="modal-footer flex-center">
                        <!--begin::Button-->
                        <button type="reset" ng-click="InitcarDetails()" data-bs-dismiss="modal" class="btn btn-light me-3">Discard</button>
                        <!--end::Button-->
                        <!--begin::Button-->
                        <button type="submit" id="kt_modal_add_customer_submit" ng-click="AddCarDetails(AddCarDetailsForm.$valid)" class="btn btn-primary">
                            <span class="indicator-label" id="btnCarsave">Submit</span>
                            <span class="indicator-progress" id="btnCarloader">
                                Please wait...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>
                        <!--end::Button-->
                    </div>
                    <!--end::Modal footer-->
                </form>
                <!--end::Form-->
            </div>
        </div>
    </div>
    <div class="modal fade" id="kt_modal_update_cardetails" tabindex="-1" aria-hidden="true">
        <!--begin::Modal dialog-->
        <div class="modal-dialog modal-dialog-centered mw-850px">
            <!--begin::Modal content-->
            <div class="modal-content">
                <!--begin::Form-->
                <form class="form" name="UpdateCarDetailsForm" novalidate>
                    <!--begin::Modal header-->
                    <div class="modal-header" id="kt_modal_add_customer_header">
                        <!--begin::Modal title-->
                        <h2 class="fw-bold">Update Car Details</h2>
                        <!--end::Modal title-->
                        <!--begin::Close-->
                        <div data-bs-dismiss="modal" class="btn btn-icon btn-sm btn-active-icon-primary">
                            <i class="ki-outline ki-cross fs-1"></i>
                        </div>
                        <!--end::Close-->
                    </div>
                    <!--end::Modal header-->
                    <!--begin::Modal body-->
                    <div class="modal-body py-10 px-lg-17">
                        <!--begin::Scroll-->
                        <!--begin::Input group-->
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Area</label>
                                <!--end::Label-->
                                <select name="Area" id="AreaUID" aria-label="Select a Area" required ng-model="propaID" ng-options="area.ID as area.Value for area in FilterAreaDropdown" ng-change="GetPropertybyArea()" data-control="select2" data-placeholder="Select a Area..." data-dropdown-parent="#kt_modal_update_cardetails" class="form-select">
                                    <option value="">Select a  Area...</option>

                                </select>
                                <span ng-if="UpdateCarDetailsForm.$submitted && UpdateCarDetailsForm.Area.$invalid" style="color:red">field is required</span>

                            </div>
                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Property</label>
                                <select name="Property" id="propertyUID" aria-label="Select a Property" required ng-model="vID" ng-options="prop.ID as prop.Value for prop in FilterPropertyTypeDropdown" data-control="select2" data-placeholder="Select a Property..." data-dropdown-parent="#kt_modal_update_cardetails" class="form-select">
                                    <option value="">Select a  Property...</option>

                                </select>
                                <span ng-if="UpdateCarDetailsForm.$submitted && UpdateCarDetailsForm.Property.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4">

                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Select Car Type</label>
                                <!--end::Label-->
                                <select name="CarUType" id="CarTypeUID" required ng-model="ddlCarType" ng-options="car.ID as car.Value for car in CarTypeDropdown" aria-label="Select a Car Type" data-control="select2" data-placeholder="Select a Car Type..." data-dropdown-parent="#kt_modal_update_cardetails" class="form-select">
                                    <option value="">Select a  Car Type...</option>

                                </select>
                                <span ng-if="UpdateCarDetailsForm.$submitted && UpdateCarDetailsForm.CarUType.$invalid" style="color:red">field is required</span>

                            </div>


                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Parking Level</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtEditParkingLevel" placeholder="" name="Parking" required />
                                <!--end::Input-->
                                <span ng-if="UpdateCarDetailsForm.$submitted && UpdateCarDetailsForm.Parking.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="required fs-6 fw-semibold mb-2">Parking No</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtEditParkingNumber" placeholder="" name="ParkingNo" required />
                                <!--end::Input-->
                                <span ng-if="UpdateCarDetailsForm.$submitted && UpdateCarDetailsForm.ParkingNo.$invalid" style="color:red">field is required</span>

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="fs-6 fw-semibold mb-2">Vehicle Brand</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtEditVehicleBrand" placeholder="" name="VehicleBrand" />
                                <!--end::Input-->

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="fs-6 fw-semibold mb-2">Vehicle Color</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" ng-model="txtEditVehicleColor" placeholder="" name="VehicleColor" />
                                <!--end::Input-->

                            </div>

                            <div class="col-md-6 mb-4">
                                <!--begin::Label-->
                                <label class="fs-6 fw-semibold mb-2 required">Vehicle Number</label>
                                <!--end::Label-->
                                <!--begin::Input-->
                                <input type="text" class="form-control" required ng-model="txtEditVehicleNumber" placeholder="" name="VehicleNo" />
                                <!--end::Input-->
                                <span ng-if="UpdateCarDetailsForm.$submitted && UpdateCarDetailsForm.VehicleNo.$invalid" style="color:red">field is required</span>

                            </div>

                        </div>
                        <!--end::Input group-->

                    </div>
                    <!--end::Modal body-->
                    <!--begin::Modal footer-->
                    <div class="modal-footer flex-center">
                        <!--begin::Button-->
                        <button type="reset" ng-click="InitcarDetails()" data-bs-dismiss="modal" class="btn btn-light me-3">Discard</button>
                        <!--end::Button-->
                        <!--begin::Button-->
                        <button type="submit" id="kt_modal_add_customer_submit" ng-click="UpdateCarDetails(UpdateCarDetailsForm.$valid)" class="btn btn-primary">
                            <span class="indicator-label" id="btnUpCarsave">Update</span>
                            <span class="indicator-progress" id="btnUpCarloader">
                                Please wait...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>
                        <!--end::Button-->
                    </div>
                    <!--end::Modal footer-->
                </form>
                <!--end::Form-->
            </div>
        </div>
    </div>
    <div class="shaaz" ng-class="{ngshaaz:show}" style="z-index: 999;">
        <div class="overlay" style="width: 100%;height: 100%;background: rgba(222,214,214,0.66);top: 0;left: 0;"></div>
        <div class="img-show" style="width: 400px; height: 350px; background: #F8F8FF; box-shadow: 0 0 10px 0 rgba(183, 192, 206, 0.9); position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); overflow: hidden; z-index: 2; ">
            <span class="canceled" style="position: absolute;top: 10px;right: 10px;z-index: 99;cursor: pointer;" ng-click="ProfileModel('cancel')">&times;</span><br><br>

            <form action="#" role="form" class="ng-pristine ng-valid">
                <div class="form-group text-center">
                    <div class="fileinput fileinput-new" data-provides="fileinput">
                        <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                            <img alt="ProfilePic" class="rounded-circle" ng-src="{{profilePic}}">
                        </div>
                        <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"> </div>
                        <div style="margin-left:20px;">
                            <span class="btn default btn-file">
                                <span class="fileinput-new"> Select image </span>
                                <span class="fileinput-exists"> Change </span>
                                <input type="file" accept=".png,.jpg,.jpeg,.gif" ngf-select="UploadFile($files)" name="images">
                            </span><span style="color:red;" ng-bind="spanProfPicV" class="ng-binding"></span>
                            <a href="" class="btn default fileinput-exists" data-dismiss="fileinput"> Remove </a>
                        </div>
                    </div>
                </div>
                <div class="margin-top-10 text-center" style="margin-left:20px;">
                    <button id="btnPicLoader" class="btn btn-primary ml-2" style="display:none;"><i class="ik ik-loader"></i>Loading</button>
                    <a href="" id="btnPicSubmit" class="btn btn-primary ml-2" ng-click="SaveProfilePic()"> Submit </a>
                    <a href="" class="btn btn-light default canceled" ng-click="ProfileModel('cancel')"> Cancel </a>
                </div>
            </form>
        </div>

    </div>

</div>
<!--end::Content-->
@section scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/intlTelInput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/js/utils.min.js"></script>
    <script>
        var input = document.querySelector("#txtMobileNo");
        window.intlTelInput(input, {
            initialCountry: 'qa',
            // any initialisation options go here
        });

    </script>
}